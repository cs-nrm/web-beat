---
export interface Props {
    post: {
      imagePath: string;
      title: {
         rendered: string;
      }
      content: string;
      slug: string;
      categories : {};
      yoast_head_json: {
         og_image: [
            {
               url: string;
            }
         ]
         article_published_time: string;
         author:string;         
      }
      _embedded: {};
    };
    
}

const { post } = Astro.props;

var url_seccion;

//console.log(post.categories);


switch (post.categories[0]){
    case 143:        
        url_seccion = 'promociones';
    break;
    case 537:        
        url_seccion = 'promociones';
    break;
    default:
        url_seccion = 'promociones';    
    break;   
}
const PLACEHOLDER_IMG = 'https://storage.googleapis.com/nrm-web/beat/resources/img/img_beat-min.jpg';
---

<div class="card w-full md:w-1/2 lg:w-1/2 md:p-4 pb-4 ">
    <article>
        <div class="glows"></div>
        <div class="overflow-hidden rounded-lg">
            <a href={`/${url_seccion}/${post.slug}/`}>
                <img class="aspect-square block h-auto w-full" src={post?._embedded?.['wp:featuredmedia']?.[0]?.media_details?.sizes?.['beat-news-size']?.source_url || PLACEHOLDER_IMG} alt={post?._embedded?.['wp:featuredmedia']?.[0]?.alt_text || "Imagen Promociones"} />
            </a>
        </div>
    </article>
</div>